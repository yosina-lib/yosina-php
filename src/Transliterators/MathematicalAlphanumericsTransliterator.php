<?php

declare(strict_types=1);

namespace Yosina\Transliterators;

use Yosina\Char;
use Yosina\TransliteratorInterface;

/**
 * Replace mathematical alphanumeric symbols with plain characters.
 */
class MathematicalAlphanumericsTransliterator implements TransliteratorInterface
{
    private const MAPPINGS = [
        'â„‚' => "C",
        'â„Š' => "g",
        'â„‹' => "H",
        'â„Œ' => "H",
        'â„Ž' => "h",
        'â„' => "I",
        'â„‘' => "I",
        'â„“' => "l",
        'â„•' => "N",
        'â„™' => "P",
        'â„š' => "Q",
        'â„›' => "R",
        'â„œ' => "R",
        'â„¤' => "Z",
        'â„¦' => 'Î©',
        'â„ª' => "K",
        'â„¬' => "B",
        'â„­' => "C",
        'â„¯' => "e",
        'â„°' => "E",
        'â„±' => "F",
        'â„³' => "M",
        'â„´' => "o",
        'â„¼' => 'Ï€',
        'â„½' => 'Î³',
        'â„¾' => 'Î“',
        'â„¿' => 'Î ',
        'â…€' => 'Î£',
        'âˆ‘' => 'Î£',
        'â……' => "D",
        'â…†' => "d",
        'â…‡' => "e",
        'â…ˆ' => "i",
        'â…‰' => "j",
        'ð€' => "A",
        'ð' => "B",
        'ð‚' => "C",
        'ðƒ' => "D",
        'ð„' => "E",
        'ð…' => "F",
        'ð†' => "G",
        'ð‡' => "H",
        'ðˆ' => "I",
        'ð‰' => "J",
        'ðŠ' => "K",
        'ð‹' => "L",
        'ðŒ' => "M",
        'ð' => "N",
        'ðŽ' => "O",
        'ð' => "P",
        'ð' => "Q",
        'ð‘' => "R",
        'ð’' => "S",
        'ð“' => "T",
        'ð”' => "U",
        'ð•' => "V",
        'ð–' => "W",
        'ð—' => "X",
        'ð˜' => "Y",
        'ð™' => "Z",
        'ð´' => "A",
        'ðµ' => "B",
        'ð¶' => "C",
        'ð·' => "D",
        'ð¸' => "E",
        'ð¹' => "F",
        'ðº' => "G",
        'ð»' => "H",
        'ð¼' => "I",
        'ð½' => "J",
        'ð¾' => "K",
        'ð¿' => "L",
        'ð‘€' => "M",
        'ð‘' => "N",
        'ð‘‚' => "O",
        'ð‘ƒ' => "P",
        'ð‘„' => "Q",
        'ð‘…' => "R",
        'ð‘†' => "S",
        'ð‘‡' => "T",
        'ð‘ˆ' => "U",
        'ð‘‰' => "V",
        'ð‘Š' => "W",
        'ð‘‹' => "X",
        'ð‘Œ' => "Y",
        'ð‘' => "Z",
        'ð‘¨' => "A",
        'ð‘©' => "B",
        'ð‘ª' => "C",
        'ð‘«' => "D",
        'ð‘¬' => "E",
        'ð‘­' => "F",
        'ð‘®' => "G",
        'ð‘¯' => "H",
        'ð‘°' => "I",
        'ð‘±' => "J",
        'ð‘²' => "K",
        'ð‘³' => "L",
        'ð‘´' => "M",
        'ð‘µ' => "N",
        'ð‘¶' => "O",
        'ð‘·' => "P",
        'ð‘¸' => "Q",
        'ð‘¹' => "R",
        'ð‘º' => "S",
        'ð‘»' => "T",
        'ð‘¼' => "U",
        'ð‘½' => "V",
        'ð‘¾' => "W",
        'ð‘¿' => "X",
        'ð’€' => "Y",
        'ð’' => "Z",
        'ð– ' => "A",
        'ð–¡' => "B",
        'ð–¢' => "C",
        'ð–£' => "D",
        'ð–¤' => "E",
        'ð–¥' => "F",
        'ð–¦' => "G",
        'ð–§' => "H",
        'ð–¨' => "I",
        'ð–©' => "J",
        'ð–ª' => "K",
        'ð–«' => "L",
        'ð–¬' => "M",
        'ð–­' => "N",
        'ð–®' => "O",
        'ð–¯' => "P",
        'ð–°' => "Q",
        'ð–±' => "R",
        'ð–²' => "S",
        'ð–³' => "T",
        'ð–´' => "U",
        'ð–µ' => "V",
        'ð–¶' => "W",
        'ð–·' => "X",
        'ð–¸' => "Y",
        'ð–¹' => "Z",
        'ð—”' => "A",
        'ð—•' => "B",
        'ð—–' => "C",
        'ð——' => "D",
        'ð—˜' => "E",
        'ð—™' => "F",
        'ð—š' => "G",
        'ð—›' => "H",
        'ð—œ' => "I",
        'ð—' => "J",
        'ð—ž' => "K",
        'ð—Ÿ' => "L",
        'ð— ' => "M",
        'ð—¡' => "N",
        'ð—¢' => "O",
        'ð—£' => "P",
        'ð—¤' => "Q",
        'ð—¥' => "R",
        'ð—¦' => "S",
        'ð—§' => "T",
        'ð—¨' => "U",
        'ð—©' => "V",
        'ð—ª' => "W",
        'ð—«' => "X",
        'ð—¬' => "Y",
        'ð—­' => "Z",
        'ð˜ˆ' => "A",
        'ð˜‰' => "B",
        'ð˜Š' => "C",
        'ð˜‹' => "D",
        'ð˜Œ' => "E",
        'ð˜' => "F",
        'ð˜Ž' => "G",
        'ð˜' => "H",
        'ð˜' => "I",
        'ð˜‘' => "J",
        'ð˜’' => "K",
        'ð˜“' => "L",
        'ð˜”' => "M",
        'ð˜•' => "N",
        'ð˜–' => "O",
        'ð˜—' => "P",
        'ð˜˜' => "Q",
        'ð˜™' => "R",
        'ð˜š' => "S",
        'ð˜›' => "T",
        'ð˜œ' => "U",
        'ð˜' => "V",
        'ð˜ž' => "W",
        'ð˜Ÿ' => "X",
        'ð˜ ' => "Y",
        'ð˜¡' => "Z",
        'ð˜¼' => "A",
        'ð˜½' => "B",
        'ð˜¾' => "C",
        'ð˜¿' => "D",
        'ð™€' => "E",
        'ð™' => "F",
        'ð™‚' => "G",
        'ð™ƒ' => "H",
        'ð™„' => "I",
        'ð™…' => "J",
        'ð™†' => "K",
        'ð™‡' => "L",
        'ð™ˆ' => "M",
        'ð™‰' => "N",
        'ð™Š' => "O",
        'ð™‹' => "P",
        'ð™Œ' => "Q",
        'ð™' => "R",
        'ð™Ž' => "S",
        'ð™' => "T",
        'ð™' => "U",
        'ð™‘' => "V",
        'ð™’' => "W",
        'ð™“' => "X",
        'ð™”' => "Y",
        'ð™•' => "Z",
        'ð’œ' => "A",
        'ð’ž' => "C",
        'ð’Ÿ' => "D",
        'ð’¢' => "G",
        'ð’¥' => "J",
        'ð’¦' => "K",
        'â„’' => "L",
        'ð’©' => "N",
        'ð’ª' => "O",
        'ð’«' => "P",
        'ð’¬' => "Q",
        'ð’®' => "S",
        'ð’¯' => "T",
        'ð’°' => "U",
        'ð’±' => "V",
        'ð’²' => "W",
        'ð’³' => "X",
        'ð’´' => "Y",
        'ð’µ' => "Z",
        'ð“' => "A",
        'ð“‘' => "B",
        'ð“’' => "C",
        'ð““' => "D",
        'ð“”' => "E",
        'ð“•' => "F",
        'ð“–' => "G",
        'ð“—' => "H",
        'ð“˜' => "I",
        'ð“™' => "J",
        'ð“š' => "K",
        'ð“›' => "L",
        'ð“œ' => "M",
        'ð“' => "N",
        'ð“ž' => "O",
        'ð“Ÿ' => "P",
        'ð“ ' => "Q",
        'ð“¡' => "R",
        'ð“¢' => "S",
        'ð“£' => "T",
        'ð“¤' => "U",
        'ð“¥' => "V",
        'ð“¦' => "W",
        'ð“§' => "X",
        'ð“¨' => "Y",
        'ð“©' => "Z",
        'ð”„' => "A",
        'ð”…' => "B",
        'ð”‡' => "D",
        'ð”ˆ' => "E",
        'ð”‰' => "F",
        'ð”Š' => "G",
        'ð”' => "J",
        'ð”Ž' => "K",
        'ð”' => "L",
        'ð”' => "M",
        'ð”‘' => "N",
        'ð”’' => "O",
        'ð”“' => "P",
        'ð””' => "Q",
        'ð”–' => "S",
        'ð”—' => "T",
        'ð”˜' => "U",
        'ð”™' => "V",
        'ð”š' => "W",
        'ð”›' => "X",
        'ð”œ' => "Y",
        'â„¨' => "Z",
        'ð•¬' => "A",
        'ð•­' => "B",
        'ð•®' => "C",
        'ð•¯' => "D",
        'ð•°' => "E",
        'ð•±' => "F",
        'ð•²' => "G",
        'ð•³' => "H",
        'ð•´' => "I",
        'ð•µ' => "J",
        'ð•¶' => "K",
        'ð•·' => "L",
        'ð•¸' => "M",
        'ð•¹' => "N",
        'ð•º' => "O",
        'ð•»' => "P",
        'ð•¼' => "Q",
        'ð•½' => "R",
        'ð•¾' => "S",
        'ð•¿' => "T",
        'ð–€' => "U",
        'ð–' => "V",
        'ð–‚' => "W",
        'ð–ƒ' => "X",
        'ð–„' => "Y",
        'ð–…' => "Z",
        'ð™°' => "A",
        'ð™±' => "B",
        'ð™²' => "C",
        'ð™³' => "D",
        'ð™´' => "E",
        'ð™µ' => "F",
        'ð™¶' => "G",
        'ð™·' => "H",
        'ð™¸' => "I",
        'ð™¹' => "J",
        'ð™º' => "K",
        'ð™»' => "L",
        'ð™¼' => "M",
        'ð™½' => "N",
        'ð™¾' => "O",
        'ð™¿' => "P",
        'ðš€' => "Q",
        'ðš' => "R",
        'ðš‚' => "S",
        'ðšƒ' => "T",
        'ðš„' => "U",
        'ðš…' => "V",
        'ðš†' => "W",
        'ðš‡' => "X",
        'ðšˆ' => "Y",
        'ðš‰' => "Z",
        'ð”¸' => "A",
        'ð”¹' => "B",
        'ð”»' => "D",
        'ð”¼' => "E",
        'ð”½' => "F",
        'ð”¾' => "G",
        'â„' => "H",
        'ð•€' => "I",
        'ð•' => "J",
        'ð•‚' => "K",
        'ð•ƒ' => "L",
        'ð•„' => "M",
        'ð•†' => "O",
        'â„' => "R",
        'ð•Š' => "S",
        'ð•‹' => "T",
        'ð•Œ' => "U",
        'ð•' => "V",
        'ð•Ž' => "W",
        'ð•' => "X",
        'ð•' => "Y",
        'ðš' => "a",
        'ð›' => "b",
        'ðœ' => "c",
        'ð' => "d",
        'ðž' => "e",
        'ðŸ' => "f",
        'ð ' => "g",
        'ð¡' => "h",
        'ð¢' => "i",
        'ð£' => "j",
        'ð¤' => "k",
        'ð¥' => "l",
        'ð¦' => "m",
        'ð§' => "n",
        'ð¨' => "o",
        'ð©' => "p",
        'ðª' => "q",
        'ð«' => "r",
        'ð¬' => "s",
        'ð­' => "t",
        'ð®' => "u",
        'ð¯' => "v",
        'ð°' => "w",
        'ð±' => "x",
        'ð²' => "y",
        'ð³' => "z",
        'ð‘Ž' => "a",
        'ð‘' => "b",
        'ð‘' => "c",
        'ð‘‘' => "d",
        'ð‘’' => "e",
        'ð‘“' => "f",
        'ð‘”' => "g",
        'ð‘–' => "i",
        'ð‘—' => "j",
        'ð‘˜' => "k",
        'ð‘™' => "l",
        'ð‘š' => "m",
        'ð‘›' => "n",
        'ð‘œ' => "o",
        'ð‘' => "p",
        'ð‘ž' => "q",
        'ð‘Ÿ' => "r",
        'ð‘ ' => "s",
        'ð‘¡' => "t",
        'ð‘¢' => "u",
        'ð‘£' => "v",
        'ð‘¤' => "w",
        'ð‘¥' => "x",
        'ð‘¦' => "y",
        'ð‘§' => "z",
        'ð’‚' => "a",
        'ð’ƒ' => "b",
        'ð’„' => "c",
        'ð’…' => "d",
        'ð’†' => "e",
        'ð’‡' => "f",
        'ð’ˆ' => "g",
        'ð’‰' => "h",
        'ð’Š' => "i",
        'ð’‹' => "j",
        'ð’Œ' => "k",
        'ð’' => "l",
        'ð’Ž' => "m",
        'ð’' => "n",
        'ð’' => "o",
        'ð’‘' => "p",
        'ð’’' => "q",
        'ð’“' => "r",
        'ð’”' => "s",
        'ð’•' => "t",
        'ð’–' => "u",
        'ð’—' => "v",
        'ð’˜' => "w",
        'ð’™' => "x",
        'ð’š' => "y",
        'ð’›' => "z",
        'ð–º' => "a",
        'ð–»' => "b",
        'ð–¼' => "c",
        'ð–½' => "d",
        'ð–¾' => "e",
        'ð–¿' => "f",
        'ð—€' => "g",
        'ð—' => "h",
        'ð—‚' => "i",
        'ð—ƒ' => "j",
        'ð—„' => "k",
        'ð—…' => "l",
        'ð—†' => "m",
        'ð—‡' => "n",
        'ð—ˆ' => "o",
        'ð—‰' => "p",
        'ð—Š' => "q",
        'ð—‹' => "r",
        'ð—Œ' => "s",
        'ð—' => "t",
        'ð—Ž' => "u",
        'ð—' => "v",
        'ð—' => "w",
        'ð—‘' => "x",
        'ð—’' => "y",
        'ð—“' => "z",
        'ð—®' => "a",
        'ð—¯' => "b",
        'ð—°' => "c",
        'ð—±' => "d",
        'ð—²' => "e",
        'ð—³' => "f",
        'ð—´' => "g",
        'ð—µ' => "h",
        'ð—¶' => "i",
        'ð—·' => "j",
        'ð—¸' => "k",
        'ð—¹' => "l",
        'ð—º' => "m",
        'ð—»' => "n",
        'ð—¼' => "o",
        'ð—½' => "p",
        'ð—¾' => "q",
        'ð—¿' => "r",
        'ð˜€' => "s",
        'ð˜' => "t",
        'ð˜‚' => "u",
        'ð˜ƒ' => "v",
        'ð˜„' => "w",
        'ð˜…' => "x",
        'ð˜†' => "y",
        'ð˜‡' => "z",
        'ð˜¢' => "a",
        'ð˜£' => "b",
        'ð˜¤' => "c",
        'ð˜¥' => "d",
        'ð˜¦' => "e",
        'ð˜§' => "f",
        'ð˜¨' => "g",
        'ð˜©' => "h",
        'ð˜ª' => "i",
        'ð˜«' => "j",
        'ð˜¬' => "k",
        'ð˜­' => "l",
        'ð˜®' => "m",
        'ð˜¯' => "n",
        'ð˜°' => "o",
        'ð˜±' => "p",
        'ð˜²' => "q",
        'ð˜³' => "r",
        'ð˜´' => "s",
        'ð˜µ' => "t",
        'ð˜¶' => "u",
        'ð˜·' => "v",
        'ð˜¸' => "w",
        'ð˜¹' => "x",
        'ð˜º' => "y",
        'ð˜»' => "z",
        'ð™–' => "a",
        'ð™—' => "b",
        'ð™˜' => "c",
        'ð™™' => "d",
        'ð™š' => "e",
        'ð™›' => "f",
        'ð™œ' => "g",
        'ð™' => "h",
        'ð™ž' => "i",
        'ð™Ÿ' => "j",
        'ð™ ' => "k",
        'ð™¡' => "l",
        'ð™¢' => "m",
        'ð™£' => "n",
        'ð™¤' => "o",
        'ð™¥' => "p",
        'ð™¦' => "q",
        'ð™§' => "r",
        'ð™¨' => "s",
        'ð™©' => "t",
        'ð™ª' => "u",
        'ð™«' => "v",
        'ð™¬' => "w",
        'ð™­' => "x",
        'ð™®' => "y",
        'ð™¯' => "z",
        'ð’¶' => "a",
        'ð’·' => "b",
        'ð’¸' => "c",
        'ð’¹' => "d",
        'ð’»' => "f",
        'ð’½' => "h",
        'ð’¾' => "i",
        'ð’¿' => "j",
        'ð“€' => "k",
        'ð“' => "l",
        'ð“‚' => "m",
        'ð“ƒ' => "n",
        'ð“…' => "p",
        'ð“†' => "q",
        'ð“‡' => "r",
        'ð“ˆ' => "s",
        'ð“‰' => "t",
        'ð“Š' => "u",
        'ð“‹' => "v",
        'ð“Œ' => "w",
        'ð“' => "x",
        'ð“Ž' => "y",
        'ð“' => "z",
        'ð“ª' => "a",
        'ð“«' => "b",
        'ð“¬' => "c",
        'ð“­' => "d",
        'ð“®' => "e",
        'ð“¯' => "f",
        'ð“°' => "g",
        'ð“±' => "h",
        'ð“²' => "i",
        'ð“³' => "j",
        'ð“´' => "k",
        'ð“µ' => "l",
        'ð“¶' => "m",
        'ð“·' => "n",
        'ð“¸' => "o",
        'ð“¹' => "p",
        'ð“º' => "q",
        'ð“»' => "r",
        'ð“¼' => "s",
        'ð“½' => "t",
        'ð“¾' => "u",
        'ð“¿' => "v",
        'ð”€' => "w",
        'ð”' => "x",
        'ð”‚' => "y",
        'ð”ƒ' => "z",
        'ð”ž' => "a",
        'ð”Ÿ' => "b",
        'ð” ' => "c",
        'ð”¡' => "d",
        'ð”¢' => "e",
        'ð”£' => "f",
        'ð”¤' => "g",
        'ð”¥' => "h",
        'ð”¦' => "i",
        'ð”§' => "j",
        'ð”¨' => "k",
        'ð”©' => "l",
        'ð”ª' => "m",
        'ð”«' => "n",
        'ð”¬' => "o",
        'ð”­' => "p",
        'ð”®' => "q",
        'ð”¯' => "r",
        'ð”°' => "s",
        'ð”±' => "t",
        'ð”²' => "u",
        'ð”³' => "v",
        'ð”´' => "w",
        'ð”µ' => "x",
        'ð”¶' => "y",
        'ð”·' => "z",
        'ð–†' => "a",
        'ð–‡' => "b",
        'ð–ˆ' => "c",
        'ð–‰' => "d",
        'ð–Š' => "e",
        'ð–‹' => "f",
        'ð–Œ' => "g",
        'ð–' => "h",
        'ð–Ž' => "i",
        'ð–' => "j",
        'ð–' => "k",
        'ð–‘' => "l",
        'ð–’' => "m",
        'ð–“' => "n",
        'ð–”' => "o",
        'ð–•' => "p",
        'ð––' => "q",
        'ð–—' => "r",
        'ð–˜' => "s",
        'ð–™' => "t",
        'ð–š' => "u",
        'ð–›' => "v",
        'ð–œ' => "w",
        'ð–' => "x",
        'ð–ž' => "y",
        'ð–Ÿ' => "z",
        'ðšŠ' => "a",
        'ðš‹' => "b",
        'ðšŒ' => "c",
        'ðš' => "d",
        'ðšŽ' => "e",
        'ðš' => "f",
        'ðš' => "g",
        'ðš‘' => "h",
        'ðš’' => "i",
        'ðš“' => "j",
        'ðš”' => "k",
        'ðš•' => "l",
        'ðš–' => "m",
        'ðš—' => "n",
        'ðš˜' => "o",
        'ðš™' => "p",
        'ðšš' => "q",
        'ðš›' => "r",
        'ðšœ' => "s",
        'ðš' => "t",
        'ðšž' => "u",
        'ðšŸ' => "v",
        'ðš ' => "w",
        'ðš¡' => "x",
        'ðš¢' => "y",
        'ðš£' => "z",
        'ð•’' => "a",
        'ð•“' => "b",
        'ð•”' => "c",
        'ð••' => "d",
        'ð•–' => "e",
        'ð•—' => "f",
        'ð•˜' => "g",
        'ð•™' => "h",
        'ð•š' => "i",
        'ð•›' => "j",
        'ð•œ' => "k",
        'ð•' => "l",
        'ð•ž' => "m",
        'ð•Ÿ' => "n",
        'ð• ' => "o",
        'ð•¡' => "p",
        'ð•¢' => "q",
        'ð•£' => "r",
        'ð•¤' => "s",
        'ð•¥' => "t",
        'ð•¦' => "u",
        'ð•§' => "v",
        'ð•¨' => "w",
        'ð•©' => "x",
        'ð•ª' => "y",
        'ð•«' => "z",
        'ðŸŽ' => "0",
        'ðŸ' => "1",
        'ðŸ' => "2",
        'ðŸ‘' => "3",
        'ðŸ’' => "4",
        'ðŸ“' => "5",
        'ðŸ”' => "6",
        'ðŸ•' => "7",
        'ðŸ–' => "8",
        'ðŸ—' => "9",
        'ðŸ˜' => "0",
        'ðŸ™' => "1",
        'ðŸš' => "2",
        'ðŸ›' => "3",
        'ðŸœ' => "4",
        'ðŸ' => "5",
        'ðŸž' => "6",
        'ðŸŸ' => "7",
        'ðŸ ' => "8",
        'ðŸ¡' => "9",
        'ðŸ¢' => "0",
        'ðŸ£' => "1",
        'ðŸ¤' => "2",
        'ðŸ¥' => "3",
        'ðŸ¦' => "4",
        'ðŸ§' => "5",
        'ðŸ¨' => "6",
        'ðŸ©' => "7",
        'ðŸª' => "8",
        'ðŸ«' => "9",
        'ðŸ¬' => "0",
        'ðŸ­' => "1",
        'ðŸ®' => "2",
        'ðŸ¯' => "3",
        'ðŸ°' => "4",
        'ðŸ±' => "5",
        'ðŸ²' => "6",
        'ðŸ³' => "7",
        'ðŸ´' => "8",
        'ðŸµ' => "9",
        'ðŸ¶' => "0",
        'ðŸ·' => "1",
        'ðŸ¸' => "2",
        'ðŸ¹' => "3",
        'ðŸº' => "4",
        'ðŸ»' => "5",
        'ðŸ¼' => "6",
        'ðŸ½' => "7",
        'ðŸ¾' => "8",
        'ðŸ¿' => "9",
    ];

    /**
     * @param array<string, mixed> $options
     */
    public function __construct(/* @phpstan-ignore constructor.unusedParameter */ array $options = []) {}

    /**
     * @param iterable<Char> $inputChars
     * @return iterable<Char>
     */
    public function __invoke(iterable $inputChars): iterable
    {
        $offset = 0;
        foreach ($inputChars as $char) {
            $replacement = self::MAPPINGS[$char->c] ?? null;
            if ($replacement !== null) {
                yield new Char($replacement, $offset, $char);
                $offset += strlen($replacement);
            } else {
                yield $char->withOffset($offset);
                $offset += strlen($char->c);
            }
        }
    }
}
