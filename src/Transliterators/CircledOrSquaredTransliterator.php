<?php

declare(strict_types=1);

namespace Yosina\Transliterators;

use Yosina\Char;
use Yosina\TransliteratorInterface;

/**
 * Replace circled or squared characters with templated forms.
 */
class CircledOrSquaredTransliterator implements TransliteratorInterface
{
    private const MAPPINGS = [
        'Â©' => ['rendering' => "C", 'type' => "circle", 'emoji' => false],
        'â„—' => ['rendering' => "P", 'type' => "circle", 'emoji' => false],
        'â‘ ' => ['rendering' => "1", 'type' => "circle", 'emoji' => false],
        'â‘¡' => ['rendering' => "2", 'type' => "circle", 'emoji' => false],
        'â‘¢' => ['rendering' => "3", 'type' => "circle", 'emoji' => false],
        'â‘£' => ['rendering' => "4", 'type' => "circle", 'emoji' => false],
        'â‘¤' => ['rendering' => "5", 'type' => "circle", 'emoji' => false],
        'â‘¥' => ['rendering' => "6", 'type' => "circle", 'emoji' => false],
        'â‘¦' => ['rendering' => "7", 'type' => "circle", 'emoji' => false],
        'â‘§' => ['rendering' => "8", 'type' => "circle", 'emoji' => false],
        'â‘¨' => ['rendering' => "9", 'type' => "circle", 'emoji' => false],
        'â‘©' => ['rendering' => "10", 'type' => "circle", 'emoji' => false],
        'â‘ª' => ['rendering' => "11", 'type' => "circle", 'emoji' => false],
        'â‘«' => ['rendering' => "12", 'type' => "circle", 'emoji' => false],
        'â‘¬' => ['rendering' => "13", 'type' => "circle", 'emoji' => false],
        'â‘­' => ['rendering' => "14", 'type' => "circle", 'emoji' => false],
        'â‘®' => ['rendering' => "15", 'type' => "circle", 'emoji' => false],
        'â‘¯' => ['rendering' => "16", 'type' => "circle", 'emoji' => false],
        'â‘°' => ['rendering' => "17", 'type' => "circle", 'emoji' => false],
        'â‘±' => ['rendering' => "18", 'type' => "circle", 'emoji' => false],
        'â‘²' => ['rendering' => "19", 'type' => "circle", 'emoji' => false],
        'â‘³' => ['rendering' => "20", 'type' => "circle", 'emoji' => false],
        'â’¶' => ['rendering' => "A", 'type' => "circle", 'emoji' => false],
        'â’·' => ['rendering' => "B", 'type' => "circle", 'emoji' => false],
        'â’¸' => ['rendering' => "C", 'type' => "circle", 'emoji' => false],
        'â’¹' => ['rendering' => "D", 'type' => "circle", 'emoji' => false],
        'â’º' => ['rendering' => "E", 'type' => "circle", 'emoji' => false],
        'â’»' => ['rendering' => "F", 'type' => "circle", 'emoji' => false],
        'â’¼' => ['rendering' => "G", 'type' => "circle", 'emoji' => false],
        'â’½' => ['rendering' => "H", 'type' => "circle", 'emoji' => false],
        'â’¾' => ['rendering' => "I", 'type' => "circle", 'emoji' => false],
        'â’¿' => ['rendering' => "J", 'type' => "circle", 'emoji' => false],
        'â“€' => ['rendering' => "K", 'type' => "circle", 'emoji' => false],
        'â“' => ['rendering' => "L", 'type' => "circle", 'emoji' => false],
        'â“‚' => ['rendering' => "M", 'type' => "circle", 'emoji' => false],
        'â“ƒ' => ['rendering' => "N", 'type' => "circle", 'emoji' => false],
        'â“„' => ['rendering' => "O", 'type' => "circle", 'emoji' => false],
        'â“…' => ['rendering' => "P", 'type' => "circle", 'emoji' => false],
        'â“†' => ['rendering' => "Q", 'type' => "circle", 'emoji' => false],
        'â“‡' => ['rendering' => "R", 'type' => "circle", 'emoji' => false],
        'â“ˆ' => ['rendering' => "S", 'type' => "circle", 'emoji' => false],
        'â“‰' => ['rendering' => "T", 'type' => "circle", 'emoji' => false],
        'â“Š' => ['rendering' => "U", 'type' => "circle", 'emoji' => false],
        'â“‹' => ['rendering' => "V", 'type' => "circle", 'emoji' => false],
        'â“Œ' => ['rendering' => "W", 'type' => "circle", 'emoji' => false],
        'â“' => ['rendering' => "X", 'type' => "circle", 'emoji' => false],
        'â“Ž' => ['rendering' => "Y", 'type' => "circle", 'emoji' => false],
        'â“' => ['rendering' => "Z", 'type' => "circle", 'emoji' => false],
        'â“' => ['rendering' => "a", 'type' => "circle", 'emoji' => false],
        'â“‘' => ['rendering' => "b", 'type' => "circle", 'emoji' => false],
        'â“’' => ['rendering' => "c", 'type' => "circle", 'emoji' => false],
        'â““' => ['rendering' => "d", 'type' => "circle", 'emoji' => false],
        'â“”' => ['rendering' => "e", 'type' => "circle", 'emoji' => false],
        'â“•' => ['rendering' => "f", 'type' => "circle", 'emoji' => false],
        'â“–' => ['rendering' => "g", 'type' => "circle", 'emoji' => false],
        'â“—' => ['rendering' => "h", 'type' => "circle", 'emoji' => false],
        'â“˜' => ['rendering' => "i", 'type' => "circle", 'emoji' => false],
        'â“™' => ['rendering' => "j", 'type' => "circle", 'emoji' => false],
        'â“š' => ['rendering' => "k", 'type' => "circle", 'emoji' => false],
        'â“›' => ['rendering' => "l", 'type' => "circle", 'emoji' => false],
        'â“œ' => ['rendering' => "m", 'type' => "circle", 'emoji' => false],
        'â“' => ['rendering' => "n", 'type' => "circle", 'emoji' => false],
        'â“ž' => ['rendering' => "o", 'type' => "circle", 'emoji' => false],
        'â“Ÿ' => ['rendering' => "p", 'type' => "circle", 'emoji' => false],
        'â“ ' => ['rendering' => "q", 'type' => "circle", 'emoji' => false],
        'â“¡' => ['rendering' => "r", 'type' => "circle", 'emoji' => false],
        'â“¢' => ['rendering' => "s", 'type' => "circle", 'emoji' => false],
        'â“£' => ['rendering' => "t", 'type' => "circle", 'emoji' => false],
        'â“¤' => ['rendering' => "u", 'type' => "circle", 'emoji' => false],
        'â“¥' => ['rendering' => "v", 'type' => "circle", 'emoji' => false],
        'â“¦' => ['rendering' => "w", 'type' => "circle", 'emoji' => false],
        'â“§' => ['rendering' => "x", 'type' => "circle", 'emoji' => false],
        'â“¨' => ['rendering' => "y", 'type' => "circle", 'emoji' => false],
        'â“©' => ['rendering' => "z", 'type' => "circle", 'emoji' => false],
        'â“ª' => ['rendering' => "0", 'type' => "circle", 'emoji' => false],
        'â“«' => ['rendering' => "11", 'type' => "circle", 'emoji' => false],
        'â“¬' => ['rendering' => "12", 'type' => "circle", 'emoji' => false],
        'â“­' => ['rendering' => "13", 'type' => "circle", 'emoji' => false],
        'â“®' => ['rendering' => "14", 'type' => "circle", 'emoji' => false],
        'â“¯' => ['rendering' => "15", 'type' => "circle", 'emoji' => false],
        'â“°' => ['rendering' => "16", 'type' => "circle", 'emoji' => false],
        'â“±' => ['rendering' => "17", 'type' => "circle", 'emoji' => false],
        'â“²' => ['rendering' => "18", 'type' => "circle", 'emoji' => false],
        'â“³' => ['rendering' => "19", 'type' => "circle", 'emoji' => false],
        'â“´' => ['rendering' => "20", 'type' => "circle", 'emoji' => false],
        'â“µ' => ['rendering' => "1", 'type' => "circle", 'emoji' => false],
        'â“¶' => ['rendering' => "2", 'type' => "circle", 'emoji' => false],
        'â“·' => ['rendering' => "3", 'type' => "circle", 'emoji' => false],
        'â“¸' => ['rendering' => "4", 'type' => "circle", 'emoji' => false],
        'â“¹' => ['rendering' => "5", 'type' => "circle", 'emoji' => false],
        'â“º' => ['rendering' => "6", 'type' => "circle", 'emoji' => false],
        'â“»' => ['rendering' => "7", 'type' => "circle", 'emoji' => false],
        'â“¼' => ['rendering' => "8", 'type' => "circle", 'emoji' => false],
        'â“½' => ['rendering' => "9", 'type' => "circle", 'emoji' => false],
        'â“¾' => ['rendering' => "10", 'type' => "circle", 'emoji' => false],
        'â“¿' => ['rendering' => "0", 'type' => "circle", 'emoji' => false],
        'â¶' => ['rendering' => "1", 'type' => "circle", 'emoji' => false],
        'â·' => ['rendering' => "2", 'type' => "circle", 'emoji' => false],
        'â¸' => ['rendering' => "3", 'type' => "circle", 'emoji' => false],
        'â¹' => ['rendering' => "4", 'type' => "circle", 'emoji' => false],
        'âº' => ['rendering' => "5", 'type' => "circle", 'emoji' => false],
        'â»' => ['rendering' => "6", 'type' => "circle", 'emoji' => false],
        'â¼' => ['rendering' => "7", 'type' => "circle", 'emoji' => false],
        'â½' => ['rendering' => "8", 'type' => "circle", 'emoji' => false],
        'â¾' => ['rendering' => "9", 'type' => "circle", 'emoji' => false],
        'â¿' => ['rendering' => "10", 'type' => "circle", 'emoji' => false],
        'âž€' => ['rendering' => "1", 'type' => "circle", 'emoji' => false],
        'âž' => ['rendering' => "2", 'type' => "circle", 'emoji' => false],
        'âž‚' => ['rendering' => "3", 'type' => "circle", 'emoji' => false],
        'âžƒ' => ['rendering' => "4", 'type' => "circle", 'emoji' => false],
        'âž„' => ['rendering' => "5", 'type' => "circle", 'emoji' => false],
        'âž…' => ['rendering' => "6", 'type' => "circle", 'emoji' => false],
        'âž†' => ['rendering' => "7", 'type' => "circle", 'emoji' => false],
        'âž‡' => ['rendering' => "8", 'type' => "circle", 'emoji' => false],
        'âžˆ' => ['rendering' => "9", 'type' => "circle", 'emoji' => false],
        'âž‰' => ['rendering' => "10", 'type' => "circle", 'emoji' => false],
        'âžŠ' => ['rendering' => "1", 'type' => "circle", 'emoji' => false],
        'âž‹' => ['rendering' => "2", 'type' => "circle", 'emoji' => false],
        'âžŒ' => ['rendering' => "3", 'type' => "circle", 'emoji' => false],
        'âž' => ['rendering' => "4", 'type' => "circle", 'emoji' => false],
        'âžŽ' => ['rendering' => "5", 'type' => "circle", 'emoji' => false],
        'âž' => ['rendering' => "6", 'type' => "circle", 'emoji' => false],
        'âž' => ['rendering' => "7", 'type' => "circle", 'emoji' => false],
        'âž‘' => ['rendering' => "8", 'type' => "circle", 'emoji' => false],
        'âž’' => ['rendering' => "9", 'type' => "circle", 'emoji' => false],
        'âž“' => ['rendering' => "10", 'type' => "circle", 'emoji' => false],
        'ã€¶' => ['rendering' => 'ã€’', 'type' => "circle", 'emoji' => false],
        'ã‰„' => ['rendering' => 'å•', 'type' => "circle", 'emoji' => false],
        'ã‰…' => ['rendering' => 'å¹¼', 'type' => "circle", 'emoji' => false],
        'ã‰†' => ['rendering' => 'æ–‡', 'type' => "circle", 'emoji' => false],
        'ã‰‡' => ['rendering' => 'ç®', 'type' => "circle", 'emoji' => false],
        'ã‰ˆ' => ['rendering' => "10", 'type' => "circle", 'emoji' => false],
        'ã‰‘' => ['rendering' => "21", 'type' => "circle", 'emoji' => false],
        'ã‰’' => ['rendering' => "22", 'type' => "circle", 'emoji' => false],
        'ã‰“' => ['rendering' => "23", 'type' => "circle", 'emoji' => false],
        'ã‰”' => ['rendering' => "24", 'type' => "circle", 'emoji' => false],
        'ã‰•' => ['rendering' => "25", 'type' => "circle", 'emoji' => false],
        'ã‰–' => ['rendering' => "26", 'type' => "circle", 'emoji' => false],
        'ã‰—' => ['rendering' => "27", 'type' => "circle", 'emoji' => false],
        'ã‰˜' => ['rendering' => "28", 'type' => "circle", 'emoji' => false],
        'ã‰™' => ['rendering' => "29", 'type' => "circle", 'emoji' => false],
        'ã‰š' => ['rendering' => "30", 'type' => "circle", 'emoji' => false],
        'ã‰›' => ['rendering' => "31", 'type' => "circle", 'emoji' => false],
        'ã‰œ' => ['rendering' => "32", 'type' => "circle", 'emoji' => false],
        'ã‰' => ['rendering' => "33", 'type' => "circle", 'emoji' => false],
        'ã‰ž' => ['rendering' => "34", 'type' => "circle", 'emoji' => false],
        'ã‰Ÿ' => ['rendering' => "35", 'type' => "circle", 'emoji' => false],
        'ãŠ€' => ['rendering' => 'ä¸€', 'type' => "circle", 'emoji' => false],
        'ãŠ' => ['rendering' => 'äºŒ', 'type' => "circle", 'emoji' => false],
        'ãŠ‚' => ['rendering' => 'ä¸‰', 'type' => "circle", 'emoji' => false],
        'ãŠƒ' => ['rendering' => 'å››', 'type' => "circle", 'emoji' => false],
        'ãŠ„' => ['rendering' => 'äº”', 'type' => "circle", 'emoji' => false],
        'ãŠ…' => ['rendering' => 'å…­', 'type' => "circle", 'emoji' => false],
        'ãŠ†' => ['rendering' => 'ä¸ƒ', 'type' => "circle", 'emoji' => false],
        'ãŠ‡' => ['rendering' => 'å…«', 'type' => "circle", 'emoji' => false],
        'ãŠˆ' => ['rendering' => 'ä¹', 'type' => "circle", 'emoji' => false],
        'ãŠ‰' => ['rendering' => 'å', 'type' => "circle", 'emoji' => false],
        'ãŠŠ' => ['rendering' => 'æœˆ', 'type' => "circle", 'emoji' => false],
        'ãŠ‹' => ['rendering' => 'ç«', 'type' => "circle", 'emoji' => false],
        'ãŠŒ' => ['rendering' => 'æ°´', 'type' => "circle", 'emoji' => false],
        'ãŠ' => ['rendering' => 'æœ¨', 'type' => "circle", 'emoji' => false],
        'ãŠŽ' => ['rendering' => 'é‡‘', 'type' => "circle", 'emoji' => false],
        'ãŠ' => ['rendering' => 'åœŸ', 'type' => "circle", 'emoji' => false],
        'ãŠ' => ['rendering' => 'æ—¥', 'type' => "circle", 'emoji' => false],
        'ãŠ‘' => ['rendering' => 'æ ª', 'type' => "circle", 'emoji' => false],
        'ãŠ’' => ['rendering' => 'æœ‰', 'type' => "circle", 'emoji' => false],
        'ãŠ“' => ['rendering' => 'ç¤¾', 'type' => "circle", 'emoji' => false],
        'ãŠ”' => ['rendering' => 'å', 'type' => "circle", 'emoji' => false],
        'ãŠ•' => ['rendering' => 'ç‰¹', 'type' => "circle", 'emoji' => false],
        'ãŠ–' => ['rendering' => 'è²¡', 'type' => "circle", 'emoji' => false],
        'ãŠ—' => ['rendering' => 'ç¥', 'type' => "circle", 'emoji' => false],
        'ãŠ˜' => ['rendering' => 'åŠ´', 'type' => "circle", 'emoji' => false],
        'ãŠ™' => ['rendering' => 'ç§˜', 'type' => "circle", 'emoji' => false],
        'ãŠš' => ['rendering' => 'ç”·', 'type' => "circle", 'emoji' => false],
        'ãŠ›' => ['rendering' => 'å¥³', 'type' => "circle", 'emoji' => false],
        'ãŠœ' => ['rendering' => 'é©', 'type' => "circle", 'emoji' => false],
        'ãŠ' => ['rendering' => 'å„ª', 'type' => "circle", 'emoji' => false],
        'ãŠž' => ['rendering' => 'å°', 'type' => "circle", 'emoji' => false],
        'ãŠŸ' => ['rendering' => 'æ³¨', 'type' => "circle", 'emoji' => false],
        'ãŠ ' => ['rendering' => 'é …', 'type' => "circle", 'emoji' => false],
        'ãŠ¡' => ['rendering' => 'ä¼‘', 'type' => "circle", 'emoji' => false],
        'ãŠ¢' => ['rendering' => 'å†™', 'type' => "circle", 'emoji' => false],
        'ãŠ£' => ['rendering' => 'æ­£', 'type' => "circle", 'emoji' => false],
        'ãŠ¤' => ['rendering' => 'ä¸Š', 'type' => "circle", 'emoji' => false],
        'ãŠ¥' => ['rendering' => 'ä¸­', 'type' => "circle", 'emoji' => false],
        'ãŠ¦' => ['rendering' => 'ä¸‹', 'type' => "circle", 'emoji' => false],
        'ãŠ§' => ['rendering' => 'å·¦', 'type' => "circle", 'emoji' => false],
        'ãŠ¨' => ['rendering' => 'å³', 'type' => "circle", 'emoji' => false],
        'ãŠ©' => ['rendering' => 'åŒ»', 'type' => "circle", 'emoji' => false],
        'ãŠª' => ['rendering' => 'å®—', 'type' => "circle", 'emoji' => false],
        'ãŠ«' => ['rendering' => 'å­¦', 'type' => "circle", 'emoji' => false],
        'ãŠ¬' => ['rendering' => 'ç›£', 'type' => "circle", 'emoji' => false],
        'ãŠ­' => ['rendering' => 'ä¼', 'type' => "circle", 'emoji' => false],
        'ãŠ®' => ['rendering' => 'è³‡', 'type' => "circle", 'emoji' => false],
        'ãŠ¯' => ['rendering' => 'å”', 'type' => "circle", 'emoji' => false],
        'ãŠ°' => ['rendering' => 'å¤œ', 'type' => "circle", 'emoji' => false],
        'ãŠ±' => ['rendering' => "36", 'type' => "circle", 'emoji' => false],
        'ãŠ²' => ['rendering' => "37", 'type' => "circle", 'emoji' => false],
        'ãŠ³' => ['rendering' => "38", 'type' => "circle", 'emoji' => false],
        'ãŠ´' => ['rendering' => "39", 'type' => "circle", 'emoji' => false],
        'ãŠµ' => ['rendering' => "40", 'type' => "circle", 'emoji' => false],
        'ãŠ¶' => ['rendering' => "41", 'type' => "circle", 'emoji' => false],
        'ãŠ·' => ['rendering' => "42", 'type' => "circle", 'emoji' => false],
        'ãŠ¸' => ['rendering' => "43", 'type' => "circle", 'emoji' => false],
        'ãŠ¹' => ['rendering' => "44", 'type' => "circle", 'emoji' => false],
        'ãŠº' => ['rendering' => "45", 'type' => "circle", 'emoji' => false],
        'ãŠ»' => ['rendering' => "46", 'type' => "circle", 'emoji' => false],
        'ãŠ¼' => ['rendering' => "47", 'type' => "circle", 'emoji' => false],
        'ãŠ½' => ['rendering' => "48", 'type' => "circle", 'emoji' => false],
        'ãŠ¾' => ['rendering' => "49", 'type' => "circle", 'emoji' => false],
        'ãŠ¿' => ['rendering' => "50", 'type' => "circle", 'emoji' => false],
        'ã‹' => ['rendering' => 'ã‚¢', 'type' => "circle", 'emoji' => false],
        'ã‹‘' => ['rendering' => 'ã‚¤', 'type' => "circle", 'emoji' => false],
        'ã‹’' => ['rendering' => 'ã‚¦', 'type' => "circle", 'emoji' => false],
        'ã‹“' => ['rendering' => 'ã‚¨', 'type' => "circle", 'emoji' => false],
        'ã‹”' => ['rendering' => 'ã‚ª', 'type' => "circle", 'emoji' => false],
        'ã‹•' => ['rendering' => 'ã‚«', 'type' => "circle", 'emoji' => false],
        'ã‹–' => ['rendering' => 'ã‚­', 'type' => "circle", 'emoji' => false],
        'ã‹—' => ['rendering' => 'ã‚¯', 'type' => "circle", 'emoji' => false],
        'ã‹˜' => ['rendering' => 'ã‚±', 'type' => "circle", 'emoji' => false],
        'ã‹™' => ['rendering' => 'ã‚³', 'type' => "circle", 'emoji' => false],
        'ã‹š' => ['rendering' => 'ã‚µ', 'type' => "circle", 'emoji' => false],
        'ã‹›' => ['rendering' => 'ã‚·', 'type' => "circle", 'emoji' => false],
        'ã‹œ' => ['rendering' => 'ã‚¹', 'type' => "circle", 'emoji' => false],
        'ã‹' => ['rendering' => 'ã‚»', 'type' => "circle", 'emoji' => false],
        'ã‹ž' => ['rendering' => 'ã‚½', 'type' => "circle", 'emoji' => false],
        'ã‹Ÿ' => ['rendering' => 'ã‚¿', 'type' => "circle", 'emoji' => false],
        'ã‹ ' => ['rendering' => 'ãƒ', 'type' => "circle", 'emoji' => false],
        'ã‹¡' => ['rendering' => 'ãƒ„', 'type' => "circle", 'emoji' => false],
        'ã‹¢' => ['rendering' => 'ãƒ†', 'type' => "circle", 'emoji' => false],
        'ã‹£' => ['rendering' => 'ãƒˆ', 'type' => "circle", 'emoji' => false],
        'ã‹¤' => ['rendering' => 'ãƒŠ', 'type' => "circle", 'emoji' => false],
        'ã‹¥' => ['rendering' => 'ãƒ‹', 'type' => "circle", 'emoji' => false],
        'ã‹¦' => ['rendering' => 'ãƒŒ', 'type' => "circle", 'emoji' => false],
        'ã‹§' => ['rendering' => 'ãƒ', 'type' => "circle", 'emoji' => false],
        'ã‹¨' => ['rendering' => 'ãƒŽ', 'type' => "circle", 'emoji' => false],
        'ã‹©' => ['rendering' => 'ãƒ', 'type' => "circle", 'emoji' => false],
        'ã‹ª' => ['rendering' => 'ãƒ’', 'type' => "circle", 'emoji' => false],
        'ã‹«' => ['rendering' => 'ãƒ•', 'type' => "circle", 'emoji' => false],
        'ã‹¬' => ['rendering' => 'ãƒ˜', 'type' => "circle", 'emoji' => false],
        'ã‹­' => ['rendering' => 'ãƒ›', 'type' => "circle", 'emoji' => false],
        'ã‹®' => ['rendering' => 'ãƒž', 'type' => "circle", 'emoji' => false],
        'ã‹¯' => ['rendering' => 'ãƒŸ', 'type' => "circle", 'emoji' => false],
        'ã‹°' => ['rendering' => 'ãƒ ', 'type' => "circle", 'emoji' => false],
        'ã‹±' => ['rendering' => 'ãƒ¡', 'type' => "circle", 'emoji' => false],
        'ã‹²' => ['rendering' => 'ãƒ¢', 'type' => "circle", 'emoji' => false],
        'ã‹³' => ['rendering' => 'ãƒ¤', 'type' => "circle", 'emoji' => false],
        'ã‹´' => ['rendering' => 'ãƒ¦', 'type' => "circle", 'emoji' => false],
        'ã‹µ' => ['rendering' => 'ãƒ¨', 'type' => "circle", 'emoji' => false],
        'ã‹¶' => ['rendering' => 'ãƒ©', 'type' => "circle", 'emoji' => false],
        'ã‹·' => ['rendering' => 'ãƒª', 'type' => "circle", 'emoji' => false],
        'ã‹¸' => ['rendering' => 'ãƒ«', 'type' => "circle", 'emoji' => false],
        'ã‹¹' => ['rendering' => 'ãƒ¬', 'type' => "circle", 'emoji' => false],
        'ã‹º' => ['rendering' => 'ãƒ­', 'type' => "circle", 'emoji' => false],
        'ã‹»' => ['rendering' => 'ãƒ¯', 'type' => "circle", 'emoji' => false],
        'ã‹¼' => ['rendering' => 'ãƒ°', 'type' => "circle", 'emoji' => false],
        'ã‹½' => ['rendering' => 'ãƒ±', 'type' => "circle", 'emoji' => false],
        'ã‹¾' => ['rendering' => 'ãƒ²', 'type' => "circle", 'emoji' => false],
        'ðŸ„‹' => ['rendering' => "0", 'type' => "circle", 'emoji' => false],
        'ðŸ„Œ' => ['rendering' => "0", 'type' => "circle", 'emoji' => false],
        'ðŸ„«' => ['rendering' => "C", 'type' => "circle", 'emoji' => false],
        'ðŸ„¬' => ['rendering' => "R", 'type' => "circle", 'emoji' => false],
        'ðŸ„­' => ['rendering' => "CD", 'type' => "circle", 'emoji' => false],
        'ðŸ„®' => ['rendering' => "WZ", 'type' => "circle", 'emoji' => false],
        'ðŸ„°' => ['rendering' => "A", 'type' => "square", 'emoji' => false],
        'ðŸ„±' => ['rendering' => "B", 'type' => "square", 'emoji' => false],
        'ðŸ„²' => ['rendering' => "C", 'type' => "square", 'emoji' => false],
        'ðŸ„³' => ['rendering' => "D", 'type' => "square", 'emoji' => false],
        'ðŸ„´' => ['rendering' => "E", 'type' => "square", 'emoji' => false],
        'ðŸ„µ' => ['rendering' => "F", 'type' => "square", 'emoji' => false],
        'ðŸ„¶' => ['rendering' => "G", 'type' => "square", 'emoji' => false],
        'ðŸ„·' => ['rendering' => "H", 'type' => "square", 'emoji' => false],
        'ðŸ„¸' => ['rendering' => "I", 'type' => "square", 'emoji' => false],
        'ðŸ„¹' => ['rendering' => "J", 'type' => "square", 'emoji' => false],
        'ðŸ„º' => ['rendering' => "K", 'type' => "square", 'emoji' => false],
        'ðŸ„»' => ['rendering' => "L", 'type' => "square", 'emoji' => false],
        'ðŸ„¼' => ['rendering' => "M", 'type' => "square", 'emoji' => false],
        'ðŸ„½' => ['rendering' => "N", 'type' => "square", 'emoji' => false],
        'ðŸ„¾' => ['rendering' => "O", 'type' => "square", 'emoji' => false],
        'ðŸ„¿' => ['rendering' => "P", 'type' => "square", 'emoji' => false],
        'ðŸ…€' => ['rendering' => "Q", 'type' => "square", 'emoji' => false],
        'ðŸ…' => ['rendering' => "R", 'type' => "square", 'emoji' => false],
        'ðŸ…‚' => ['rendering' => "S", 'type' => "square", 'emoji' => false],
        'ðŸ…ƒ' => ['rendering' => "T", 'type' => "square", 'emoji' => false],
        'ðŸ…„' => ['rendering' => "U", 'type' => "square", 'emoji' => false],
        'ðŸ……' => ['rendering' => "V", 'type' => "square", 'emoji' => false],
        'ðŸ…†' => ['rendering' => "W", 'type' => "square", 'emoji' => false],
        'ðŸ…‡' => ['rendering' => "X", 'type' => "square", 'emoji' => false],
        'ðŸ…ˆ' => ['rendering' => "Y", 'type' => "square", 'emoji' => false],
        'ðŸ…‰' => ['rendering' => "Z", 'type' => "square", 'emoji' => false],
        'ðŸ…Š' => ['rendering' => "HV", 'type' => "square", 'emoji' => false],
        'ðŸ…‹' => ['rendering' => "MV", 'type' => "square", 'emoji' => false],
        'ðŸ…Œ' => ['rendering' => "SD", 'type' => "square", 'emoji' => false],
        'ðŸ…' => ['rendering' => "SS", 'type' => "square", 'emoji' => false],
        'ðŸ…Ž' => ['rendering' => "PPV", 'type' => "square", 'emoji' => false],
        'ðŸ…' => ['rendering' => "WC", 'type' => "square", 'emoji' => false],
        'ðŸ…' => ['rendering' => "A", 'type' => "circle", 'emoji' => false],
        'ðŸ…‘' => ['rendering' => "B", 'type' => "circle", 'emoji' => false],
        'ðŸ…’' => ['rendering' => "C", 'type' => "circle", 'emoji' => false],
        'ðŸ…“' => ['rendering' => "D", 'type' => "circle", 'emoji' => false],
        'ðŸ…”' => ['rendering' => "E", 'type' => "circle", 'emoji' => false],
        'ðŸ…•' => ['rendering' => "F", 'type' => "circle", 'emoji' => false],
        'ðŸ…–' => ['rendering' => "G", 'type' => "circle", 'emoji' => false],
        'ðŸ…—' => ['rendering' => "H", 'type' => "circle", 'emoji' => false],
        'ðŸ…˜' => ['rendering' => "I", 'type' => "circle", 'emoji' => false],
        'ðŸ…™' => ['rendering' => "J", 'type' => "circle", 'emoji' => false],
        'ðŸ…š' => ['rendering' => "K", 'type' => "circle", 'emoji' => false],
        'ðŸ…›' => ['rendering' => "L", 'type' => "circle", 'emoji' => false],
        'ðŸ…œ' => ['rendering' => "M", 'type' => "circle", 'emoji' => false],
        'ðŸ…' => ['rendering' => "N", 'type' => "circle", 'emoji' => false],
        'ðŸ…ž' => ['rendering' => "O", 'type' => "circle", 'emoji' => false],
        'ðŸ…Ÿ' => ['rendering' => "P", 'type' => "circle", 'emoji' => false],
        'ðŸ… ' => ['rendering' => "Q", 'type' => "circle", 'emoji' => false],
        'ðŸ…¡' => ['rendering' => "R", 'type' => "circle", 'emoji' => false],
        'ðŸ…¢' => ['rendering' => "S", 'type' => "circle", 'emoji' => false],
        'ðŸ…£' => ['rendering' => "T", 'type' => "circle", 'emoji' => false],
        'ðŸ…¤' => ['rendering' => "U", 'type' => "circle", 'emoji' => false],
        'ðŸ…¥' => ['rendering' => "V", 'type' => "circle", 'emoji' => false],
        'ðŸ…¦' => ['rendering' => "W", 'type' => "circle", 'emoji' => false],
        'ðŸ…§' => ['rendering' => "X", 'type' => "circle", 'emoji' => false],
        'ðŸ…¨' => ['rendering' => "Y", 'type' => "circle", 'emoji' => false],
        'ðŸ…©' => ['rendering' => "Z", 'type' => "circle", 'emoji' => false],
        'ðŸ…°' => ['rendering' => "A", 'type' => "square", 'emoji' => false],
        'ðŸ…±' => ['rendering' => "B", 'type' => "square", 'emoji' => false],
        'ðŸ…²' => ['rendering' => "C", 'type' => "square", 'emoji' => false],
        'ðŸ…³' => ['rendering' => "D", 'type' => "square", 'emoji' => false],
        'ðŸ…´' => ['rendering' => "E", 'type' => "square", 'emoji' => false],
        'ðŸ…µ' => ['rendering' => "F", 'type' => "square", 'emoji' => false],
        'ðŸ…¶' => ['rendering' => "G", 'type' => "square", 'emoji' => false],
        'ðŸ…·' => ['rendering' => "H", 'type' => "square", 'emoji' => false],
        'ðŸ…¸' => ['rendering' => "I", 'type' => "square", 'emoji' => false],
        'ðŸ…¹' => ['rendering' => "J", 'type' => "square", 'emoji' => false],
        'ðŸ…º' => ['rendering' => "K", 'type' => "square", 'emoji' => false],
        'ðŸ…»' => ['rendering' => "L", 'type' => "square", 'emoji' => false],
        'ðŸ…¼' => ['rendering' => "M", 'type' => "square", 'emoji' => false],
        'ðŸ…½' => ['rendering' => "N", 'type' => "square", 'emoji' => false],
        'ðŸ…¾' => ['rendering' => "O", 'type' => "square", 'emoji' => false],
        'ðŸ…¿' => ['rendering' => "P", 'type' => "square", 'emoji' => false],
        'ðŸ†€' => ['rendering' => "Q", 'type' => "square", 'emoji' => false],
        'ðŸ†' => ['rendering' => "R", 'type' => "square", 'emoji' => false],
        'ðŸ†‚' => ['rendering' => "S", 'type' => "square", 'emoji' => false],
        'ðŸ†ƒ' => ['rendering' => "T", 'type' => "square", 'emoji' => false],
        'ðŸ†„' => ['rendering' => "U", 'type' => "square", 'emoji' => false],
        'ðŸ†…' => ['rendering' => "V", 'type' => "square", 'emoji' => false],
        'ðŸ††' => ['rendering' => "W", 'type' => "square", 'emoji' => false],
        'ðŸ†‡' => ['rendering' => "X", 'type' => "square", 'emoji' => false],
        'ðŸ†ˆ' => ['rendering' => "Y", 'type' => "square", 'emoji' => false],
        'ðŸ†‰' => ['rendering' => "Z", 'type' => "square", 'emoji' => false],
        'ðŸ†‹' => ['rendering' => "IC", 'type' => "square", 'emoji' => false],
        'ðŸ†Œ' => ['rendering' => "PA", 'type' => "square", 'emoji' => false],
        'ðŸ†' => ['rendering' => "SA", 'type' => "square", 'emoji' => false],
        'ðŸ†Ž' => ['rendering' => "AB", 'type' => "square", 'emoji' => true],
        'ðŸ†' => ['rendering' => "WC", 'type' => "square", 'emoji' => false],
        'ðŸ†' => ['rendering' => "DJ", 'type' => "square", 'emoji' => false],
        'ðŸ†‘' => ['rendering' => "CL", 'type' => "square", 'emoji' => true],
        'ðŸ†’' => ['rendering' => "COOL", 'type' => "square", 'emoji' => true],
        'ðŸ†“' => ['rendering' => "FREE", 'type' => "square", 'emoji' => true],
        'ðŸ†”' => ['rendering' => "ID", 'type' => "square", 'emoji' => true],
        'ðŸ†•' => ['rendering' => "NEW", 'type' => "square", 'emoji' => true],
        'ðŸ†–' => ['rendering' => "NG", 'type' => "square", 'emoji' => true],
        'ðŸ†—' => ['rendering' => "OK", 'type' => "square", 'emoji' => true],
        'ðŸ†˜' => ['rendering' => "SOS", 'type' => "square", 'emoji' => true],
        'ðŸ†™' => ['rendering' => "UP!", 'type' => "square", 'emoji' => true],
        'ðŸ†š' => ['rendering' => "VS", 'type' => "square", 'emoji' => true],
        'ðŸ†›' => ['rendering' => "3D", 'type' => "square", 'emoji' => false],
        'ðŸ†œ' => ['rendering' => "2ndScr", 'type' => "square", 'emoji' => false],
        'ðŸ†' => ['rendering' => "2K", 'type' => "square", 'emoji' => false],
        'ðŸ†ž' => ['rendering' => "4K", 'type' => "square", 'emoji' => false],
        'ðŸ†Ÿ' => ['rendering' => "8K", 'type' => "square", 'emoji' => false],
        'ðŸ† ' => ['rendering' => "5.1", 'type' => "square", 'emoji' => false],
        'ðŸ†¡' => ['rendering' => "7.1", 'type' => "square", 'emoji' => false],
        'ðŸ†¢' => ['rendering' => "22.2", 'type' => "square", 'emoji' => false],
        'ðŸ†£' => ['rendering' => "60P", 'type' => "square", 'emoji' => false],
        'ðŸ†¤' => ['rendering' => "120P", 'type' => "square", 'emoji' => false],
        'ðŸ†¥' => ['rendering' => "d", 'type' => "square", 'emoji' => false],
        'ðŸ†¦' => ['rendering' => "HC", 'type' => "square", 'emoji' => false],
        'ðŸ†§' => ['rendering' => "HDR", 'type' => "square", 'emoji' => false],
        'ðŸ†¨' => ['rendering' => "Hi-Res", 'type' => "square", 'emoji' => false],
        'ðŸ†©' => ['rendering' => "Lossless", 'type' => "square", 'emoji' => false],
        'ðŸ†ª' => ['rendering' => "SHV", 'type' => "square", 'emoji' => false],
        'ðŸ†«' => ['rendering' => "UHD", 'type' => "square", 'emoji' => false],
        'ðŸ†¬' => ['rendering' => "VOD", 'type' => "square", 'emoji' => false],
        'ðŸ†­' => ['rendering' => "M", 'type' => "circle", 'emoji' => false],
        'ðŸ‡¦' => ['rendering' => "A", 'type' => "square", 'emoji' => false],
        'ðŸ‡§' => ['rendering' => "B", 'type' => "square", 'emoji' => false],
        'ðŸ‡¨' => ['rendering' => "C", 'type' => "square", 'emoji' => false],
        'ðŸ‡©' => ['rendering' => "D", 'type' => "square", 'emoji' => false],
        'ðŸ‡ª' => ['rendering' => "E", 'type' => "square", 'emoji' => false],
        'ðŸ‡«' => ['rendering' => "F", 'type' => "square", 'emoji' => false],
        'ðŸ‡¬' => ['rendering' => "G", 'type' => "square", 'emoji' => false],
        'ðŸ‡­' => ['rendering' => "H", 'type' => "square", 'emoji' => false],
        'ðŸ‡®' => ['rendering' => "I", 'type' => "square", 'emoji' => false],
        'ðŸ‡¯' => ['rendering' => "J", 'type' => "square", 'emoji' => false],
        'ðŸ‡°' => ['rendering' => "K", 'type' => "square", 'emoji' => false],
        'ðŸ‡±' => ['rendering' => "L", 'type' => "square", 'emoji' => false],
        'ðŸ‡²' => ['rendering' => "M", 'type' => "square", 'emoji' => false],
        'ðŸ‡³' => ['rendering' => "N", 'type' => "square", 'emoji' => false],
        'ðŸ‡´' => ['rendering' => "O", 'type' => "square", 'emoji' => false],
        'ðŸ‡µ' => ['rendering' => "P", 'type' => "square", 'emoji' => false],
        'ðŸ‡¶' => ['rendering' => "Q", 'type' => "square", 'emoji' => false],
        'ðŸ‡·' => ['rendering' => "R", 'type' => "square", 'emoji' => false],
        'ðŸ‡¸' => ['rendering' => "S", 'type' => "square", 'emoji' => false],
        'ðŸ‡¹' => ['rendering' => "T", 'type' => "square", 'emoji' => false],
        'ðŸ‡º' => ['rendering' => "U", 'type' => "square", 'emoji' => false],
        'ðŸ‡»' => ['rendering' => "V", 'type' => "square", 'emoji' => false],
        'ðŸ‡¼' => ['rendering' => "W", 'type' => "square", 'emoji' => false],
        'ðŸ‡½' => ['rendering' => "X", 'type' => "square", 'emoji' => false],
        'ðŸ‡¾' => ['rendering' => "Y", 'type' => "square", 'emoji' => false],
        'ðŸ‡¿' => ['rendering' => "Z", 'type' => "square", 'emoji' => false],
        'ðŸš¾' => ['rendering' => "WC", 'type' => "square", 'emoji' => true],
        'ðŸˆ€' => ['rendering' => 'ã»ã‹', 'type' => "square", 'emoji' => false],
        'ðŸˆ' => ['rendering' => 'ã‚³ã‚³', 'type' => "square", 'emoji' => true],
        'ðŸˆ‚' => ['rendering' => 'ã‚µ', 'type' => "square", 'emoji' => false],
        'ðŸˆ' => ['rendering' => 'æ‰‹', 'type' => "square", 'emoji' => false],
        'ðŸˆ‘' => ['rendering' => 'å­—', 'type' => "square", 'emoji' => false],
        'ðŸˆ’' => ['rendering' => 'åŒ', 'type' => "square", 'emoji' => false],
        'ðŸˆ“' => ['rendering' => 'ãƒ‡', 'type' => "square", 'emoji' => false],
        'ðŸˆ”' => ['rendering' => 'äºŒ', 'type' => "square", 'emoji' => false],
        'ðŸˆ•' => ['rendering' => 'å¤š', 'type' => "square", 'emoji' => false],
        'ðŸˆ–' => ['rendering' => 'è§£', 'type' => "square", 'emoji' => false],
        'ðŸˆ—' => ['rendering' => 'å¤©', 'type' => "square", 'emoji' => false],
        'ðŸˆ˜' => ['rendering' => 'äº¤', 'type' => "square", 'emoji' => false],
        'ðŸˆ™' => ['rendering' => 'æ˜ ', 'type' => "square", 'emoji' => false],
        'ðŸˆš' => ['rendering' => 'ç„¡', 'type' => "square", 'emoji' => true],
        'ðŸˆ›' => ['rendering' => 'æ–™', 'type' => "square", 'emoji' => false],
        'ðŸˆœ' => ['rendering' => 'å‰', 'type' => "square", 'emoji' => false],
        'ðŸˆ' => ['rendering' => 'å¾Œ', 'type' => "square", 'emoji' => false],
        'ðŸˆž' => ['rendering' => 'å†', 'type' => "square", 'emoji' => false],
        'ðŸˆŸ' => ['rendering' => 'æ–°', 'type' => "square", 'emoji' => false],
        'ðŸˆ ' => ['rendering' => 'åˆ', 'type' => "square", 'emoji' => false],
        'ðŸˆ¡' => ['rendering' => 'çµ‚', 'type' => "square", 'emoji' => false],
        'ðŸˆ¢' => ['rendering' => 'ç”Ÿ', 'type' => "square", 'emoji' => false],
        'ðŸˆ£' => ['rendering' => 'è²©', 'type' => "square", 'emoji' => false],
        'ðŸˆ¤' => ['rendering' => 'å£°', 'type' => "square", 'emoji' => false],
        'ðŸˆ¥' => ['rendering' => 'å¹', 'type' => "square", 'emoji' => false],
        'ðŸˆ¦' => ['rendering' => 'æ¼”', 'type' => "square", 'emoji' => false],
        'ðŸˆ§' => ['rendering' => 'æŠ•', 'type' => "square", 'emoji' => false],
        'ðŸˆ¨' => ['rendering' => 'æ•', 'type' => "square", 'emoji' => false],
        'ðŸˆ©' => ['rendering' => 'ä¸€', 'type' => "square", 'emoji' => false],
        'ðŸˆª' => ['rendering' => 'ä¸‰', 'type' => "square", 'emoji' => false],
        'ðŸˆ«' => ['rendering' => 'éŠ', 'type' => "square", 'emoji' => false],
        'ðŸˆ¬' => ['rendering' => 'å·¦', 'type' => "square", 'emoji' => false],
        'ðŸˆ­' => ['rendering' => 'ä¸­', 'type' => "square", 'emoji' => false],
        'ðŸˆ®' => ['rendering' => 'å³', 'type' => "square", 'emoji' => false],
        'ðŸˆ¯' => ['rendering' => 'æŒ‡', 'type' => "square", 'emoji' => true],
        'ðŸˆ°' => ['rendering' => 'èµ°', 'type' => "square", 'emoji' => false],
        'ðŸˆ±' => ['rendering' => 'æ‰“', 'type' => "square", 'emoji' => false],
        'ðŸˆ²' => ['rendering' => 'ç¦', 'type' => "square", 'emoji' => true],
        'ðŸˆ³' => ['rendering' => 'ç©º', 'type' => "square", 'emoji' => true],
        'ðŸˆ´' => ['rendering' => 'åˆ', 'type' => "square", 'emoji' => true],
        'ðŸˆµ' => ['rendering' => 'æº€', 'type' => "square", 'emoji' => true],
        'ðŸˆ¶' => ['rendering' => 'æœ‰', 'type' => "square", 'emoji' => true],
        'ðŸˆ·' => ['rendering' => 'æœˆ', 'type' => "square", 'emoji' => false],
        'ðŸˆ¸' => ['rendering' => 'ç”³', 'type' => "square", 'emoji' => true],
        'ðŸˆ¹' => ['rendering' => 'å‰²', 'type' => "square", 'emoji' => true],
        'ðŸˆº' => ['rendering' => 'å–¶', 'type' => "square", 'emoji' => true],
        'ðŸˆ»' => ['rendering' => 'é…', 'type' => "square", 'emoji' => false],
        'ðŸ‰' => ['rendering' => 'å¾—', 'type' => "circle", 'emoji' => true],
        'ðŸ‰‘' => ['rendering' => 'å¯', 'type' => "circle", 'emoji' => true],
    ];

    /**
     * @var array<string, string>
     */
    private array $templates;

    private bool $includeEmojis;

    /**
     * @param array{templates?:array{circle?:string,square?:string},includeEmojis?:bool} $options
     */
    public function __construct(array $options = [])
    {
        $this->templates = [
            'circle' => $options['templates']['circle'] ?? '(?)',
            'square' => $options['templates']['square'] ?? '[?]',
        ];
        $this->includeEmojis = (bool) ($options['includeEmojis'] ?? false);
    }

    /**
     * @param iterable<Char> $inputChars
     * @return iterable<Char>
     */
    public function __invoke(iterable $inputChars): iterable
    {
        $offset = 0;
        foreach ($inputChars as $char) {
            $record = self::MAPPINGS[$char->c] ?? null;
            if ($record !== null) {
                // Skip emoji characters if not included
                if ($record['emoji'] && !$this->includeEmojis) {
                    yield $char;
                    continue;
                }

                // Get template
                $template = $this->templates[$record['type']] ?? '?';
                $replacement = str_replace('?', $record['rendering'], $template);

                if ($replacement === '') {
                    yield $char;
                    continue;
                }

                // Yield each character in the replacement string
                $replacementChars = mb_str_split($replacement, 1, 'UTF-8');
                foreach ($replacementChars as $replacementChar) {
                    yield new Char($replacementChar, $offset, $char);
                    $offset += strlen($replacementChar);
                }
            } else {
                yield $char->withOffset($offset);
                $offset += strlen($char->c);
            }
        }
    }
}
